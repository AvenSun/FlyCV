<!doctype html>
<html>
<style>
    img {
        width: 300px;
    }
</style>

<body>
    <img src="../../data/test_sunrise.jpg" id="source_img">
    <canvas id="target_img"></canvas>
    <script src="../../../flycv.js" type="text/javascript"></script>
    <script type="text/javascript">
        fcv.then((fcv) => {
            let src_u8 = fcv.imread("source_img");
            let src_f32 = new fcv.Mat();
            let dst = new fcv.Mat();
            let scalar = [5, 55, 0, 55];

            src_u8.convertTo(src_f32, fcv.FCVImageType.PKG_RGBA_F32, 1.0, 0);
            fcv.subtract(src_f32, scalar, dst);
            console.log(dst.data())

            src_u8.delete();
            src_f32.delete();
            dst.delete();
        });
    </script>
</body>

</html>